{"version":3,"sources":["webpack:///./src/views/good/Good.vue?9fe9","webpack:///src/views/good/Good.vue","webpack:///./src/views/good/Good.vue?3246","webpack:///./src/views/good/Good.vue","webpack:///./src/views/good/Good.vue?c094"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","model","value","callback","$$v","tabIdx","expression","attrs","on","skip","_v","filterHandle","formParams","list","currentPage","total","sizeHandle","pageHandle","staticRenderFns","beforeRouteEnter","isLogin","next","components","TabFilter","FormFilter","GoodTable","data","currentSize","name","group_no","type_no","sale_min","sale_max","price_min","price_max","deduction_no","computed","watch","changeList","mounted","methods","status_no","page","size","params","$http","fetchGoodList","then","console","log","res","$router","push","val","component"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,YAAY,CAACG,MAAM,CAACC,MAAOR,EAAU,OAAES,SAAS,SAAUC,GAAMV,EAAIW,OAAOD,GAAKE,WAAW,YAAYR,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,YAAY,CAACS,MAAM,CAAC,KAAO,UAAU,KAAO,SAASC,GAAG,CAAC,MAAQd,EAAIe,OAAO,CAACf,EAAIgB,GAAG,WAAW,GAAGZ,EAAG,aAAa,CAACU,GAAG,CAAC,OAASd,EAAIiB,cAAcV,MAAM,CAACC,MAAOR,EAAc,WAAES,SAAS,SAAUC,GAAMV,EAAIkB,WAAWR,GAAKE,WAAW,gBAAgBR,EAAG,YAAY,CAACS,MAAM,CAAC,KAAOb,EAAImB,QAAQf,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,gBAAgB,CAACS,MAAM,CAAC,eAAeb,EAAIoB,YAAY,aAAa,CAAC,EAAG,GAAI,GAAI,IAAI,YAAY,EAAE,OAAS,0CAA0C,MAAQpB,EAAIqB,OAAOP,GAAG,CAAC,cAAcd,EAAIsB,WAAW,iBAAiBtB,EAAIuB,eAAe,IAAI,IACp0BC,EAAkB,G,srBCmCtB,yEACA,qEACA,qEAEA,GAEEC,iBAFF,SAEA,OACI,IAAJ,kCACmB,GAAXC,EACFC,IAEAA,EAAK,WAGTC,WAAY,CACVC,UAAJ,EACIC,WAAJ,EACIC,UAAJ,GAEEC,KAAM,WACJ,MAAO,CACLrB,OAAQ,KACRS,YAAa,EACba,YAAa,EACbd,KAAM,GACNE,MAAO,EACPH,WAAY,CACVgB,KAAM,GACNC,SAAU,EACVC,QAAS,EACTC,SAAU,EACVC,SAAU,EACVC,UAAW,EACXC,UAAW,EACXC,aAAc,OAIpBC,SAAU,EAAZ,GACA,gCAEEC,MAAO,CACLhC,OADJ,WAGMV,KAAK2C,eAGTC,QA3CF,WA6CI5C,KAAK2C,cAEPE,QAAS,CAEPF,WAFJ,WAEA,WACA,KACQG,UAAW9C,KAAKU,OAChBqC,KAAM/C,KAAKmB,YACX6B,KAAMhD,KAAKgC,aASnB,iBAGA,IAAUiB,EAAOZ,iBAAjB,WAC+B,IAArBY,EAAOV,kBAAwBU,EAAOV,UAC1CvC,KAAKkD,MAAMC,cAAcF,GAAQG,MAAK,SAA5C,GACQC,QAAQC,IAAI,MAAOC,GACnB,EAAR,YACQ,EAAR,kBAIIzC,KA3BJ,WA4BMd,KAAKwD,QAAQC,KAAK,aAEpBpC,WA9BJ,SA8BA,GACMgC,QAAQC,IAAI,MAAlB,gBACMtD,KAAKgC,YAAc0B,EACnB1D,KAAK2C,cAEPrB,WAnCJ,SAmCA,GACM+B,QAAQC,IAAI,QAAlB,WACMtD,KAAKmB,YAAcuC,EACnB1D,KAAK2C,cAEP3B,aAxCJ,WAyCMqC,QAAQC,IAAI,YACZtD,KAAK2C,gBCjIsb,I,wBCQ7bgB,EAAY,eACd,EACA7D,EACAyB,GACA,EACA,KACA,WACA,MAIa,aAAAoC,E,2CCnBf,yBAA0sB,EAAG","file":"js/chunk-b56ea44a.d0e35e54.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"good\"},[_c('TabFilter',{model:{value:(_vm.tabIdx),callback:function ($$v) {_vm.tabIdx=$$v},expression:\"tabIdx\"}}),_c('div',{staticClass:\"publish\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.skip}},[_vm._v(\"发布商品\")])],1),_c('FormFilter',{on:{\"filter\":_vm.filterHandle},model:{value:(_vm.formParams),callback:function ($$v) {_vm.formParams=$$v},expression:\"formParams\"}}),_c('GoodTable',{attrs:{\"list\":_vm.list}}),_c('div',{staticClass:\"good_page\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[5, 10, 15, 20],\"page-size\":5,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.sizeHandle,\"current-change\":_vm.pageHandle}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\r\n<div class=\"good\">\r\n\r\n  <!-- 自定义Tab -->\r\n  <TabFilter v-model='tabIdx'></TabFilter>\r\n\r\n\r\n  <div class=\"publish\">\r\n    <el-button @click='skip' type=\"primary\" size='small'>发布商品</el-button>\r\n  </div>\r\n\r\n  <!-- 基于ElementUI的二次组件封装 -->\r\n  <FormFilter v-model='formParams' @filter=\"filterHandle\"></FormFilter>\r\n\r\n  <!-- 表格 -->\r\n  <GoodTable :list=\"list\"></GoodTable>\r\n\r\n  <!-- 直接使用分页组件 -->\r\n  <div class=\"good_page\">\r\n    <el-pagination\r\n      @size-change=\"sizeHandle\"\r\n      @current-change=\"pageHandle\"\r\n      :current-page=\"currentPage\"\r\n      :page-sizes=\"[5, 10, 15, 20]\"\r\n      :page-size=\"5\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\">\r\n    </el-pagination>\r\n  </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\n// import { fetchGoodList } from '@/utils/api'\r\nconst TabFilter = ()=>import('./components/TabFilter.vue')\r\nconst FormFilter = ()=>import('./components/FormFilter.vue')\r\nconst GoodTable = ()=>import('./components/GoodTable.vue')\r\n\r\nexport default {\r\n  // 局部路由守卫\r\n  beforeRouteEnter(to,from,next) {\r\n    const isLogin = localStorage.getItem('isLogin')\r\n    if (isLogin == 1) {\r\n      next()\r\n    } else {\r\n      next('/login')\r\n    }\r\n  },\r\n  components: {\r\n    TabFilter,\r\n    FormFilter,\r\n    GoodTable\r\n  },\r\n  data: function() {\r\n    return {\r\n      tabIdx: '-1',\r\n      currentPage: 1,\r\n      currentSize: 5,\r\n      list: [],\r\n      total: 0,\r\n      formParams: {\r\n        name: '',\r\n        group_no: 0,\r\n        type_no: 0,\r\n        sale_min: 0,\r\n        sale_max: 0,\r\n        price_min: 0,\r\n        price_max: 0,\r\n        deduction_no: '0'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('good', ['msg'])\r\n  },\r\n  watch: {\r\n    tabIdx() {\r\n      // alert(val)\r\n      this.changeList()\r\n    }\r\n  },\r\n  mounted() {\r\n    // 入参\r\n    this.changeList()\r\n  },\r\n  methods: {\r\n    // 调接口\r\n    changeList() {\r\n      const params = {\r\n        status_no: this.tabIdx, // 1-销售中 2-已售罄 3-仓库中\r\n        page: this.currentPage, // 分页页码\r\n        size: this.currentSize,  // 每页的数量\r\n        // name: this.formParams.name,\r\n        // group_no: this.formParams.group_no,   // 商品分组\r\n        // type_no: this.formParams.type_no,     // 商品类型\r\n        // sale_max: this.formParams.sale_max,\r\n        // sale_min: this.formParams.sale_min,\r\n        // price_max: this.formParams.price_max,\r\n        // price_min: this.formParams.price_min,\r\n        // deduction_no: this.formParams.deduction_no\r\n        ...this.formParams\r\n      }\r\n      // 入参校验\r\n      if (params.sale_max===0) delete params.sale_max\r\n      if (params.price_max === 0) delete params.price_max\r\n      this.$http.fetchGoodList(params).then(res=>{\r\n        console.log('res', res)\r\n        this.list = res.list\r\n        this.total = res.total\r\n      })\r\n    },\r\n    // 发布商品 按钮点击\r\n    skip() {\r\n      this.$router.push('/publish')\r\n    },\r\n    sizeHandle(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.currentSize = val\r\n      this.changeList()\r\n    },\r\n    pageHandle(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.currentPage = val\r\n      this.changeList()\r\n    },\r\n    filterHandle() {\r\n      console.log('父组件 执行筛选')\r\n      this.changeList()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.good {\r\n  .publish {\r\n    padding: 20px 0;\r\n  }\r\n  .good_page {\r\n    padding: 15px 0;\r\n    text-align: right;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Good.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Good.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Good.vue?vue&type=template&id=f4a94bd0&scoped=true&lang=html&\"\nimport script from \"./Good.vue?vue&type=script&lang=js&\"\nexport * from \"./Good.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Good.vue?vue&type=style&index=0&id=f4a94bd0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f4a94bd0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.4.1@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Good.vue?vue&type=style&index=0&id=f4a94bd0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.4.1@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Good.vue?vue&type=style&index=0&id=f4a94bd0&lang=scss&scoped=true&\""],"sourceRoot":""}